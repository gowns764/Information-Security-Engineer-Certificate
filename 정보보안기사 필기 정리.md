# 1. 정보보호 개요

## 1.1. 보안 공격
### 1.1.1. 보안의 목표에 따른 분류
1. 기밀성을 위협하는 공격
   - **스누핑**
     - 데이터에 대한 비인가 접근 또는 탈취
   - **트래픽분석**
     - 암호호된 트래픽을 도청하고 분석하여 다른 형탸의 정보를 얻음
2. 무결성의 위협하는 공격
   - **변경**
     - 적법한 메시지의 일부를 수정하여 인가되지 않은 효과를 노림
   - **가장**
     - 한 개체가 다른 개체의 행세를 하는 것
   - **재전송**
     - 획득한 데이터 단위를 보관하고 있다가 시간이 경과한 후에 재전송함으로써 인가되지 않은 사항에 접근하는 효과를 노림
   - **부인**
     - 차후에 자신이 메시지를 보냈다는 것을 부인하거나, 메시지를 받았다는 것을 부인함
3. 가용성을 위협하는 공격
   - **DoS**
     - 시스템의 서비스를 느리게 하거나 완전히 차단함

### 1.1.2. 소극적 공격과 적극적 공격
1. **소극적 공격**
   - 공격자의 목표는 단지 정보를 획득하는 것
   - 스누핑, 트래픽분석
2. **적극적 공격**
   - 데이터를 바꾸너가 시스템에 해를 입힐 수 있으며, 무결성과 가용성을 위협함
   - 변경, 가장, 재전송, 부인, DoS

## 1.2. 취약점 VS 위협 VS 위험
1. **취약점**
   - 컴퓨터나 네트워크에 침입하여 환경 내의 리소스에 대한 허가되지 않은 접근을 시도하려는 공격자에게 열린 문을 제공할 수 있는 약점 
2. **위협**
   - 손실이나 손상의 원인이 될 가능성을 제공하는 환경의 집합
   - 보안에 해를 끼치는 행동이나 사건
3. **위험**
   - 위협 주체가 취약점을 활용할 수 있는 가능성과 그 영향

# 2. 암호학

## 2.1. 암호기법의 분류
### 2.1.1. 치환 암호와 전치 암호
1. **치환 암호**
   - 비트, 문자 또는 문자의 블록을 다른 비트, 문자 또는 블록으로 <u>대체</U>
   - 평문의 문자를 다른 문자로 교환하는 규칙
2. **전치 암호**
   - 비트, 문자 또는 블록이 원래 의미를 감추도록 <u>재배열</u>
   - 문자 집합 내부에서 자리를 바꾸는 규칙

### 2.1.2. 블록 암호와 스트림 암호
1. **블록 암호**
   - 어느 특정 비트 수의 집합을 한 번에 처리하는 암호 알고리즘
   - 이 집합을 블록이라고 하며, 블록의 비트 수를 블록 길이라고 함
   - 평문을 일정한 크기로 잘라낸 후, 암호화 알고리즘을 적용하여 암호화 함
   - 스트림 암호화와는 달리 Round를 사용하고, 반복적으로 암호화 과정을 수행해 암호화 강도를 높힘
2. **스트림 암호**
   - 한번에 1비트 혹은 1바이트의 데이터 흐름을 순차적으로 처리해가는 암호 알고리즘
   - 암호화 방식은 평문과 키 스트림을 XOR하여 생성함
   - 데이터의 흐름을 순차적으로 처리해가기 때문에 내부 상태를 가지고 있음
3. 차이점
    |구분|**스트림 암호**|**블록 암호**|
    |:--:|:------------:|:-----------:|
    |장점|암호화 속도가 빠름, 에러 전파 현상 없음|높은 확산, 기밀성, 해시함수 등 다양|
    |단점|낮은 확산|느린 암호화, 에러 전달|
    |사례|LFSR, MUX generator|DES, IDEA, SEED, RC5, AES|
    |암호화 단위|비트|블록|
    |주요 대상|음성, 오디오/비디오 스트리밍|일반 데이터 전송, 스토리지 저장|

## 2.2. 암호 분석의 분류
1. **암호문 단독 공격**
   - 공격자가 알고 있는 것
     - 알고리즘, 암호문
   - 공격자가 찾고 있는 것
     - 송·수신자의 평문, 키
2. **기지 평문 공격**
   - 공격자가 알고 있는 것
     - 일부 평문/암호문 쌍
   - 공격자가 찾고 있는 것
     - 키, 다른 평문
3. **선택 평문 공격**
   - 공격자가 알고 있는 것
     - 송신자의 암호기
   - 공격자가 찾고 있는 것
     - 선택한 평문에 대한 암호문, 키, 송신자의 평문
4. **선택 암호문 공격**
   - 공격자가 알고 있는 것
     - 수신자의 복호기, 암호문
   - 공격자가 찾고 있는 것
     - 평문

## 2.3. 지적 재산권 보호
### 2.3.1. 스테가노그래피 VS 디지털 워터마킹 VS 핑거프린팅
|항목|**스테가노그래피**|**워터마크**|**핑거프린트**|
|:-:|:----------------:|:----------:|:------------:|
|은닉 정보|메시지|판매자 정보|구매자 추적 정보|
|관심|은닉 메시지 검출|저작권 표시|구매자 추적|
|트래킹|불가|가능|가능|
|불법 예방 효과|하|중|상|
|저작권 증명 효과|하|중|상|
|공격 강인성|상대적 약함|상대적 강함|상대적 강함|

### 2.3.2 디지털 저작권 관리 (DRM)
- 디지털 콘텐츠 소유자가 자신의 콘텐츠에 대한 접근을 자신 또는 자신의 위임자가 지정하는 다양한 방식으로 제어할 수 있게 하는 기술적인 방법

#### 2.3.2.1 DRM 구성 요소
1. **메타데이터**
   - 콘텐스 생명주기 범위 내에서 관리되어야 할 각종 데이터의 구조 및 정보
2. **패키저**
   - 보호 대상인 콘텐츠를 메타데이터와 함께 시큐어 컨테이너 포맷으로 패키징 하는 모듈
3. **시큐어 컨테이너**
   - DRM의 보호 범위 내에서 유통되는 콘텐츠의 배포 단위
4. **식별자**
   - 콘텐츠를 식별하기 위한 식별자
5. **DRM 제어기**
   - 콘텐츠를 이용하는 사용자의 PC 또는 디바이스 플랫폼에서 콘텐츠가 라이선스에 명시된 범위 내에서 지속적으로 보호될 수 있도록 프로세스를 제어함


## 2.4. 대칭키 암호

### 2.4.1. 합성 암호
- 치환, 전치 그리고 그 밖의 구성 요소를 결합한 복합적인 암호
- **확산**
  - 암호문과 평문 사이의 관계를 숨기는 것
- **혼돈**
  - 암호문과 키의 관계를 숨기는 것
- **라운드**
  - 반복적으로 사용돠눈 합성 암호

### 2.4.2. 두 가지 종류의 합성 암호
1. **Feistal 암호**
   - 평문 블록의 길이, 키의 길이, 라운드 수가 암호 강도를 결정지음
   - 암·복호화 과정이 동일함
2. **SPN 구조**
   - 여러 개의 함수를 중첩하면 개별함수로 이루어진 암호보다 안전하다는 이론에 근거함
   - 입력의 여러 개의 소블록으로 나누고 각 소블록을 S-box에 입력하여 대치시키고, S-box의 출력을 P-box로 전치하는 과정을 반복하는 방식

### 2.4.3. 블록 암호에 대한 공격
1. **차분 분석**
   - 평문의 일부를 변경하면 암호문이 어떻게 변화하는가?를 조사하는 암호 해독법
2. **선형 분석**
   - 평문과 암호문 비트를 몇 개 정도 XOR해서 0이 되는 확률을 조사하는 해독 방법
3. **전수 공격**
   - 암호화 할 때 일어날 수 있는 가능한 모든 경우에 대하여 조사하는 방법
4. **통계적 분석**
   - 암호문에 대한 평문의 각 단어별 빈도에 관한 자료와 더불어 지금까지 알려진 모든 통계적인 자료를 아용하여 해독하는 방법
5. **수학적 분석**
   - 통계적인 방법을 포함하여 수학적 이론울 이용하여 해독하는 방법 

### 2.4.4 대칭키 블록 알고리즘의 종류와 특징
|이름|개발 국가|특징|블록 크기|키의 길이|라운드 수|
|:-:|:-:|:-:|:-:|:-:|:-:|
|**DES**|미국|MIST에서 표준으로 공표|64|56|16|
|**IDEA**|유럽|PGP 채택|64|128|8|
|**Rjindael**|벨기에|2000년 AES 알고리즘으로 선정|128|128, 192, 256|10, 12, 14|
|**SEED**|한국|한국 표준 블록 암호 알고리즘|128|128, 256|16, 24|
|**CRYPTON**|한국|AES 후보 중 하나|128|128, 192, 156|12|
|**RC5**|미국|알고리즘이 간단, 속도가 빠름|36, 64, 128|0-2040|1-256|
|**FEAL**|일본|S/W 구현에 적합|64|128|8|
|**MISTY**|일본|차분/선형 공격에 안전성 증명 구조|64|128|8|
|**SKIPJACK**|미국|Fortezza 카드에 사용|64|80|32|

### 2.4.5. 국내 대칭키 암호 알고리즘
|이름|개발 기관|특징|블록 크기|키의 길이|라운드 수|
|:-|:-|:-|:-|:-|:-|
|**SEED**|KISA|인터넷, 전자상거래, 무선 통신 등에 사용|128|128, 256|16, 24|
|**ARIA**|국보연, 국정원|전자정부 구현 등으로 다양한 환경에 적합한 알고리즘|128|128, 192, 256||
|**HIGHT**|KISA, ETRI, 고려대|저전력·경량화를 요구하는 컴퓨팅 환경에서 기밀성을 제공|64|||
|**LEA**|국보연|경량 고속 블록 암호 알고리즘|128|||

### 2.4.6. 블록 암호 응용 운영 모드
|이름|특징|장점|단점|
|:-|:-|:-|:-|
|**ECB**|블록 간의 독립성|간단, 고속, 병렬 처리 가능|평문의 반복이 암호문에 반영됨 <br> 재전송 공격 가능|
|**CBC**|각각의 평문 블록은 암호화되기 전에 이전 암호문 블록과 XOR됨|평문의 반복이 암호문에 반영되지 않음 <br> 병렬 처리 가능(복호화만)|평문 블록 한 비트의 오류가 출력되는 모든 암호문에 영향을 줌 <br> 암호화에서는 병렬 처리 불가능|
|**CFB**|블록 암호를 스트림 암호로 바꿀 수 있음 <br> 암·복호화에서 블록 암호의 암호화 함수를 이용함 <br> 비동기식 스트림 암호|패딩이 필요 없음 <br> 병렬 처리 가능(복호화만)|암호화에서는 병렬 처리 불가능 <br> 재전송 공격 가능|
|**OFB**|암호 알고리즘의 출력은 평문과 무관함 <br> 동기식 스트림 암호|패딩이 필요 없음 <br> 암·복호화의 사전 준비 가능 <br> 암·복호화가 같은 구조 <br> 전송 중의 비트 오류가 전파되지 않음|병렬 처리 불가능 <br> 암호문에서 비트 손실이 발생하면 그 다음에 오는 평문은 모두 에러가 발생함|
|**CTR**|피드백이 존재하지 않음 <br> 동기식 스트림 암호|패딩이 필요 없음 <br> 암·복호화 사전 준비 가능 <br> 암·복호화가 같은 구조 <br> 전송 중의 비트 오류가 전파되지 않음 <br> 병렬 처리 가능|암호문에서 비트 손실이 발생하면 그 다음에 오는 평문은 모두 에러가 발생함|

## 2.5. 공개키 암호 알고리즘
|이름|특징|장점|단점 혹은 취약점|
|:-|:-|:-|:-|
|**RSA**|인수분해 문제의 어려움에 기반||소인수분해 공격, 타이밍 공격, 선택 암호문 공격|
|**Rabin**|합성수 모듈러에 관하여 제곱근을 찾기 어려움에 기반|암호화가 매우 빠름||
|**ElGamal**|이산대수 문제의 어려움에 기반||다른 알고리즘에 비해 느림|
|**타원 곡선 암호 (ECC)**|유한체 위에서 정의된 타원곡선 군에서의 이산대수 문제의 어려움에 기반|타 알고리즘에 비해 키의 길이는 짧아도 동일한 수준의 보안성을 제공함||


## 2.6. 해시함수와 응용

### 2.6.1. 해시함수의 보안 요구 사항
1. **프리이미지 저항성(역상 저항성)**
   - 공격자가 y = h(M)에 대해서 y = h(M')을 만족하는 M'을 찾는 것이 매우 힘들어야 한다는 성질
   - 즉, 일방향성
2. **제2프리이미지 저항성(두 번째 역상 저항성, 약한 충돌 내성)**
   - 메시지를 쉽게 위조할 수 없도록 하는 성질
   - 공격자가 h(M) = h(M'), M ≠ M'을 만족하는 메시지(M')를 생성할 확률이 낮음
3. **충돌 저항성(충돌 회피성, 강한 충돌 내성)**
   - 공격자로 하여금 h(M) = h(M')을 만족하는 M, M'을 구하지 못하도록 하는 것

### 2.6.2. 메시지 인증 코드 (MAC)
- 무결성을 확인하고 메시지에 대한 인증을 하는 기술
- 임의 길이의 메시지와 송신가 및 수신자가 공유하는 키라는 2개의 입력을 기초로 해서 고정 비트 길이의 출력을 계산하는 함수
  - 이 출력을 MAC 값이라 부름
- 블록 암호나 해시 함수에 기반을 두기 때문에 전자 서명보다 훨씬 빠름

#### 2.6.2.1. MAC에 대한 공격
- 재전송 공격을 방지할 수 없음
- 이를 막는 방법에는 **순서 번호**, **타임스탬프**, **nonce**, **시도/응답** 등이 있음


## 2.7. 전자서명과 PKI

### 2.7.1. 전자서명의 주요 기능
1. **위조 불가**
   - 합법적인 서명자만이 전자서명을 생성할 수 있어야 함
2. **서명자 인증**
   - 전자서명의 서명자를 누구든지 검증할 수 있어야 함
3. **부인방지**
   - 서명자는 서명 행위 이후에 서명한 사실을 부인할 수 없어야 함
4. **변경 불가**
   - 서명한 문서의 내용을 변경할 수 없어야 함
5. **재사용 불가**
   - 전자 문서의 서명을 다른 전자 문서의 서명으로 사용할 수 없어야 함

### 2.7.2. 은닉 서명 (블라인드 서명)
- 서명자가 서명문 내용을 알지 못하는 상태에서 서명토록 한 방식을 수식으로 표현한 것
- 즉, 서명문의 내용을 숨시는 서명 방식으로, 서명을 받는 사람의 신원과 서명문을 연결시킬 수 없는 익명성을 유지함

### 2.7.3. 전자투표 시스템 구현을 위한 요구 사항
1. **완전성**
   - 모든 투표가 정확하게 집계되어야 함
2. **익명성**
   - 투표 결과로부터 투표자를 구별할 수 없어야 함
3. **건정성**
   - 부정한 투표자에 의해 선거가 방해되는 일이 없어야 함
4. **이중투표방지**
   - 정당한 투표자가 두 번 이상 투표할 수 없음
5. **정당성**
   - 투표에 영향을 미치는 것이 없어야 함
6. **적임성**
   - 투표 권환을 가진 자만이 투표할 수 있음
7. **검증 가능**
   - 선거 결과를 변경할 수 없도록 누구라도 투표 결과를 확인하여 검증해 볼 수 있어야 함

### 2.7.4. PKI (공개키 기반 구조)
- 공개키 알고리즘을 위한 키 관리 구조

#### 2.7.4.1. PKI의 주요 구성 요소
1. **인증기관(CA)**
   - 인증 정책을 수립하고, 인증서 및 인증서 효력 정지 및 폐기 목록을 관리하며, 다른 CA와의 상호 인증을 제공함
   1. **정책승인기관(PAA)**
      - 공개키 기반 구조 전반에 사용되는 정책을 수립하고, 공개키 기반 구조의 루트 인증기관으로서의 역할을 함
   2. **정책인증기관(PCA)**
      - PAA 아래 계층으로 자신의 도메인 내의 사용자와 CA가 따라야 할 정책을 수립하고 인증기관의 공개키를 인증하고 인증서, 인증서 폐지 목록 등을 관리함
   3. **인증기관(CA)**
      - PCA 아래 계층으로 다음과 같은 기능을 수행함
        - 사용자의 공개키 인증서를 발행하고 또 필요에 따라 폐지함
        - 사용자에게 자신의 공개키와 상위 기관의 공개키를 전달함
        - 등록 기관의 요청에 의해 인증서를 발행함
        - 인증서 소유자를 대신하여 공개키와 개인키 쌍을 생성할 수 있고, 안전한 방법으로 소유자에게 전달함
2. **검증기관(VA)**
   - 인증서와 관련된 거래의 유효성을 확인하고, 여기에 사용되는 인증서의 유효성 여부와 인증서가 적절한 개체로 발근되었가는 것을 신뢰 당사자에게 확인시켜 줌
3. **사용자와 최종 개체**
   - 자신의 비밀키/공개키 쌍을 생성할 수 있어야 함
   - 공개키 인증서를 요청하고 획득할 수 있어야 함
   - 전자서명을 생성 및 검증할 수 있어야 함
   - 비밀키가 분실 또는 손상되거나 자신의 정보가 변했을 때 폐지를 요청할 수 있어야 함
4. **등록기관(RA)**
   - 사용자와 CA가 서로 원거리에 위치해 있는 경우, CA와 사용자 사이에 Ra를 두어 사용자의 인증서 신청 시 CA 대신 그들의 신분과 소속을 확인하는 기능을 수행함
5. **저장소**
   - 사용자의 인증서를 저장하는 데이터 베이스

#### 2.7.4.2. 인증서 폐지 사유
- 사용자의 개인키가 침해를 당했을 경우
- CA가 사용자를 더 이상 인증하지 않을 때
- 인증서를 검증하는데 필요한 CA의 개인키가 침해를 받았을 경우

#### 2.7.4.3. 온라인 인증서 상태 검증 프로토콜 (OCSP)
- CA에 의해 관리되고 있는 인증서 폐지 목록 (CRL)을 검사함
- OCSP 클라이언트, OCSP 서버, 인증 서버로 구성됨

# 3. 접근통제

## 3.1. 접근통제 요구 사항
1. **입력의 신뢰성**
   - 접근 제어 시스템은 입력되는 사용자 정보를 신뢰할 수 있어야 함
2. **최소 권환 부여**
   - 접근 제어 시스템은 사용자가 작업을  수행하는데 필요한 최소한의 자원과 자원에 대한 최소한의 접근 권한을 부여하도록 구현되어야 함
3. **직무 분리**
   - 한 개인이 전체 업무를 파괴하는 사고를 방지하기 위해 시스템 기능의 단계를 다수의 개인들에게 나누어야 함

## 3.2. 접근통제 보안 모델

### 3.2.1. 강제적 접근통제 (MAC)
- 자원의 보안 레벨과 사용자의 보안 취급 인가를 비교하여 접근 제어함
- 중앙집중형 보안관리
- 단점
  - 많은 관리적 부담을 요구하며, 비용이 많이 소요됨
  - 사용자 친화적이지 않음
  - 매우 특정한 목적을 위해 사용됨
  - 모든 접근에 대한 레이블랑을 정의하고 보안 정책을 강화해야 하기 때문에 성능 저하가 우려됨
- 종류
  - 벨라파듈라(BLP) 모델, 비바 무결성 모델, 클락-윌슨 무결성 모델, 만리장성 모델

#### 3.2.1.1. 벨라파듈라(BLP) 모델
- 허가된 비밀정보에 허가되지 않은 방식의 접근을 금지하는 기밀성을 집행하는 상태 머신 모델
- 다중 수준 보안 시스템이라고도 불림
- 높은 수준의 주체는 낮은 수준의 주체에 정보를 전달할 수 없음

#### 3.2.1.2. 비바 무결성 모델
- 부적절한 변조 방지를 목적으로 함

#### 3.2.1.3. 클락-윌슨 무결성 모델
- 군사용보다 상업용으로 설계됨
- 비바 무결성 모델에 비해 무결성의 3가지 목표를 전부 목적으로 함

#### 3.2.1.4. 만리장성 모델
- MAC과 DAC에서 사용됨
- 사용자의 이전 동작에 따라 변화할 수 있는 접근통제를 제공
- 이해 충돌이 발생할 수 있는 상업용 응용을 위해 개발됨

### 3.2.2. 임의적 접근통제 (DAC)
- 주체가 속해 있는 그룹의 신원에 근거하여 객체에 대한 접근을 제한함
- 객체의 소유자가 접근 여부를 결정함
- 객체별로 세분화된 접근제어가 가능함
- 분산형 보안관리
- 단점
  - 접근제어에 일관성이 없음
  - 다른 사람의 신분을 사용하여 불법적인 접근이 이루어질 수 있음
  - 멀웨어와 트로이목마에 취약함
- 종류
  - 신원 기반 접근통제, 사용자 기반 접근통제, 혼합 방식 접근통제

### 3.2.3. 역할 기반 접근통제 (RBAC)
- 권한을 역할과 연관시키고 사용자들이 적절한 역할을 할당받도록 하여 권한의 관리를 용이하게 함
- 역할은 사용자 집합과 권한 집합의 매개체
- 주체와 객체가 어떻게 상호작용하는지 결정하기 위해 중앙에서 관리되는 통제 모음을 사용함

#### 3.2.3.1. RBAC의 3가지 기본 보안 정책 제공
- 특권의 최소화
- 직무의 분리
- 데이터 추상화

# 4. 시스템 보안

## 4.1. 악성 코드
|구분|**바이러스**|**트로이목마**|**웜**|
|:-:|:-:|:-:|:-:|
|자기 복제|있음|없음|매우 강함|
|형태|파일이나 부트섹터 등 감염 대상 필요|유틸리티로 위장하거나 유틸리티 안에 코드 형태로 삽입됨|독자적으로 존재|
|전파 경로|사용자가 감염된 파일을 옮김|사용자가 내려 받음|네트워크를 통해 스스로 전파|
|주요 증상|해당 컴퓨터의 시스템 및 파일 손상|PC 성능 저하, 좀비 PC|네트워크 성능 저하|

## 4.2. 윈도우 서버 보안

### 4.2.1. 윈도우 파일 시스템
1. **FAT16**
   - 2GB까지 한 파티션으로 설정할 수 있음
   - 호환성이 좋음
2. **FAT32**
   - 호환성이 좋으나 접근제어를 설정할 수 없음
3. **NTFS**
   - 접근제어가 적용됨
   - 호환성이 낮음

### 4.2.2. 윈도우 보안

#### 4.2.2.1. 기본 사용자와 그룹
1. 계정
   |계정 이름|설명|
   |:-:|:-:|
   |**Administrator**|관리자 권환의 계정으로 사용자가 사용 가능한 계정 중 가장 강력한 권한을 가짐|
   |**SYSTEM**|시스템에서 최고 권한을 가진 계정으로 로컬에서 관리자보다 상위 권한을 가짐 <br> 원격 접속이 불가능|
   |**Guest**|매우 제한적인 권한을 가진 계정으로, 기본 설정은 사용 불능|
2. 그룹
   |그룹 이름|설명|
   |:-:|:-:|
   |**Administrators**|도메인 자원이나 로컬 컴퓨터에 대한 모든 권한이 있음|
   |**Account Operators**|사용자나 그룹 계정을 관리하는 그룹|
   |**Backup Operators**|시스템 백업을 위해서 모든 시스템의 파일과 디렉토리에 접근할 수 있음|
   |**Guests**|도메인 사용 권한이 제한된 그룹으로 시스템의 설정 변경 권한이 없음|
   |**Print Operators**|도메인 프린터에 접근할 수 있음|
   |**Power Users**|디렉토리나 네트워크 공유, 공유 프로그램 그룹 생성, 컴퓨터 시계 설정 권한이 있음|
   |**Replicator**|도메인에 있는 파일을 복제할 수 있는 권한을 가진 그룹으로, 디렉토리 복사 서비스에 이용됨|
   |**Server Operators**|도메인의 서버를 관리할 수 있는 권한을 가진 그룹으로, 로컬 로그인과 시스템 재시작 및 종료 권한이 있음|
   |**Users**|도메인과 로컬 컴퓨터를 일반적으로 사용하는 그룹 <br> 시스템 서비스의 시작 및 종료 권한이 없으며, 디렉토리 공유 설절을 할 수 없음|

#### 4.2.2.2. 레지스트리 편집기
- 사용자가 직접 레지스트리를 조작하는 프로그램
- 윈도우 부팅 시 하이브 파일에서 값을 직접 읽어 들여 구성되는 키를 **Master Key**라 하고, Master Key로부터 값을 가져와서 재구성하는 키를 **Derives Key**라 함
- **Master Key**
  - **HKEY_LOCAL_MACHINE**, **HKEY_USERS**
- **Derived Key**
  - **HKEY_CURRENT_USER**, **HKEY_CURRENT_CONFIG**, **HKEY_CLASSES_ROOT**

#### 4.2.2.3. 레지스트리 루트키
1. **HKEY_CLASSES_ROOT**
   - 시스템에 등록된 파일 확장자와 그것을 열 때 사용할 애플리케이션에 대한 맵핑 정보와 COM 오브젝트 등록 정보를 저장함
2. **HKEY_CURRENT_USER**
   - 현재 시스템에 로그인하고 있는 사용자와 관련된 시스템 정보를 저장함
   - 이 키에서 설정한 내용이 HKEY_USERS보다 우선권을 갖게 됨
3. **HKEY_LOCAL_MACHINE**
   - 컴퓨터에 설치된 하드웨어와 하드웨워를 구동시키는 데 필요한 드라이버나 설정 사항에 관련된 정보를 갖음

## 4.3. 유닉스/리눅스 서버 보안

### 4.3.1. i-node
- 유닉스에서 각 파일에 대한 정보를 기억하는 약 120byte의 고정된 크기의 구조체
- 일반 파일이나 디렉토리 파일의 i-node는 각 파일의 디스클 블록의 위치를 포함하고 있으며, i-node는 주변 장치를 식별할 수 있는 정보를 포함하고 있음
- 파일에 대한 정보와 이 파일에 할당된 디스크 블록의 주소를 저장하는 필드들로 구성되어 있음
  - i-node number, 파일 타입, 접근 권한, link count, 소유자, 소유 그룹, 파일 크기, MAC Time, Block index

### 4.3.2. 런 레벨
- 0
  - Programmable Read-Only Memory 모드
- S, s
  - 시스템 싱글 유저 모드, 로컬 파일시스템이 마운트 되지 않은 상태
- 1
  - 시스템 싱글 유저 모드, 로컬 파일시스템이 마운트 된 상태
- 2
  - 멀티 유저 모드 (NFS 클라이언트 모드)
- 3
  - 멀티 유저 모드 (NFS 서버 모드) UNIX 기본 런 레벨
- 4
  - 사용 안 함
- 5
  - 시스템 power off 모드
- 6
  - 시스템 리부팅

### 4.3.3. 시스템 보안

#### 4.3.3.1. 사용자의 패스워드 관리
      [user_account] : [user_password] : [user_ID] : [group_ID] : [comment] : [home_directory] : [login_shell]
- 시스템 관리자가 사용자 계정을 만들 때마다 해당 사용자와 관련된 정보를 **/etc/passwd** 파일에 저장함

#### 4.3.3.2. shadow 파일
      [user_account] : [encrypted_password] : [last_change] : [minfile] : [maxfile] : [warn] : [inactivel] : [expires]
- **/etc/shadow** 파일에 암호화된 패스워드과 저장되도록 하고 관리자만이 읽을 수 있도록 제한함

#### 4.3.3.3. 접근권한 마스크 (umask)
- 시스템 관리자는 **/etc/profile**에 umask를 설정하여 전체 사용자에게 획일적인 umask 값을 적용할 수 있음
- 개별 계정에 대해 설정 시에는 **/home** 디렉토리 밑의 각 계정별로 .profile 파일에, bash 셸을 사용할 경우에는 .bashrc에, C 셸을 사용할 경우에는 .cshrc 파일에 설정함
- 접근권한은 일반적으로 파일을 생성할 때는 666에서 umask로 지정한 값을 빼고, 디렉토리의 경우 777에서 umask로 지정한 값을 뺌

#### 4.3.3.4. 권한 상승 (SetUID, SetGID)
- **RUID**
  - 프로세스를 실행시킨 사용자의 UID
- **RGID**
  - 프로세스를 실행시킨 사용자의 GID
- **EUID**
  - 프로세스가 실행중인 동안에만 부여되는 UID로, 자원에 대한 접근권한을 판단하기 위한 UID
- **EGID**
  - 프로세스가 실행중인 동안에만 부여되는 GID로, 자원에 대한 접근권한을 판단하기 위한 GID

#### 4.3.3.5. 디렉토리 접근권한 (sticky-bit)
- sticky-bit를 이용하여 디렉토리에 특별한 접근권한을 부여할 수 있음 (때문에 공유모드라고 함)
- sticky-bit가 설정된 디렉토리는 시스템에 있는 모든 사용자가 파일이나 하위 디렉토리를 생성할 수 있지만 해당 디렉토리를 지우는 것은 소유주나 root인 경우에만 가능함

### 4.3.4. 접근 통제 (TCPWrapper)
- TCPWrapper는 외부에서 들어오는 클라이언트에 대해 접근 통제 기능을 제공함
- TCPWrapper가 설치되면, inted 데몬은 TCPWrapper의 데몬인 tcpd 데몬에 연결을 넘김
- 모든 프로토콜에 대한 접근 제어는 할 수 없음

## 4.4. 서버 보안 관리

### 4.4.1. 윈도우 이벤트 로그 파일
- **%Windows%\system32\config** 폴더 아래에 있는 .evt 확장자를 가진 파일이며, 파일명은 이벤트 뷰어에서 보이는 로그 파일명과 비슷함
- 바이너리 형식이기 때문에 그냥 봐서는 그 의미를 알 수 없고 논리적 구조를 분석할 수 있는 프로그램으로 열어야 함
- [제어판]-[관리도구]-[이벤트 뷰어]를 통해 쌓이는 로깅 정보를 확인할 수 있음

### 4.4.2. 유닉스/리눅스의 로그 분석과 설정
|로그|설명|
|:-:|:-:|
|**wtmp**|사용자 로그인, 로그아웃 정보 및 시스템의 shutdown, booting 정보를 가진 파일|
|**utmp**|현재 로그인한 사용자 정보를 담고 있는 DB 파일|
|**btmp**|로그인 실패를 했을 경우에 로그인 실패 정보를 기록|
|**pacct**|사용자가 로그인한 후부터 로그아웃할 때까지 입력한 명령과 시간, 작동된 tty 등에 대한 정보를 수집|
|**history**|사용자별로 실행한 명령을 기록하는 로그|
|**lastlog**|각 사용자의 최근 로그인 시각과 접근한 소스 호스트에 대한 정보를 가진 파일|
|**sulog**|su 명령어를 사용한 경우, 변경 전 사용자 계정과 변경 후 사용자 계정 및 시간 정보가 저장되는 파일|
|**dmesg**|리눅스가 부팅될 때 출력되는 모든 메시지를 기록|
|**cron**|시스템의 정기적인 작업에 대한 로그, 즉 시스템 cron 작업에 대하여 기록하고 있는 파일|
|**messages**|시스템의 가장 기본적인 시스템 로그 파일로서 시스템 운영에 대한 전반적인 메시지를 저장|
|**secure**|주로 사용자의 원격 접속 즉, 원격 로그인 정보를 기록하고 있는 로그 파일로 서버 보안에 아주 민감하고 중요한 파일|

### 4.4.3. 서버 보안용 S/W 설치 및 운영

#### 4.4.3.1. 취약점 분석 도구
1. **SATAN**
   - 해커와 같은 방식으로 시스템에 침입, 보안상의 약점을 찾아 보완할 수 있는 네트워크 분석용 보완 관리 도구
2. **SARA**
   - SATAN이 업데이트가 되지 않는 상황에서 SATAN을 기반으로 개발된 취약점 분석 도구로 네트워크 기반의 컴퓨터, 서버, 라우터 IDS에 대한 취약점 분석, 유닉스 플랫폼에서의 동작, HTML 형식의 보고서 기능이 있음
3. **SAINT**
   - 유닉스 플랫폼에서 동작하는 네트워크 취약점 분석 도구로서 HTML 형식의 보고서 기능이 있음
   - 원격에서 취약점을 점검하는 기능이 있음
4. **COPS**
   - 유닉스 플랫폼에서 동작하며 시스템 내부에 존재하는 취약점을 점검하는 도구로서 취약한 패스워드를 체크함
5. **Nessus**
   - 클라이언트-서버 구조로 클라이언트의 취약점을 점검하는 기능이 있음
   - 사용이 자유롭고 플러그인 업데이트 등이 쉬움
   - HTML 등 여러 형태로 결과를 리포트 해줌
6. **nmap**
   - 포트스캐닝 도구로 TCP connect 방식 뿐만 아니라 stealth 모드로 포트스캐닝하는 기능을 포함함

#### 4.4.3.2. 파일 무결성 점검 (tripwire)
- 정상적인 상태의 디렉토리 및 파일 정보를 백업하고 있다가 점검 수행 시점에서의 정보와 백업한 정보를 비교하여 변경된 사항을 점검하는 도구
- 데이터 파일 보호에는 적절하지 않음

## 4.5. 각종 시스템 보안 위협 및 대응책

### 4.5.1. 버퍼 오버플로우 공격
- 보포 또는 데이터 저장 영역에 할당된 용량보다 더 많은 입력이 위치하면 다른 정보를 변경할 수 있는 조건

#### 4.5.1.1. 프로세스 메모리 구조
1. **Text 영역**
   - 프로그램 코드와 상수가 정의되어 있고, 읽기만 가능한 메모리 영역이기 때문에 데이터를 저장하려고 하면 분할 충돌을 일으켜 프로세스가 중지됨
2. **Data 영역**
   - 전역 변수와 정적 변수가 저장되어 있는 영역
3. **Heap 영역**
   - 프로그래머의 필요에 따라 동적 메모리 호출에 의해 할당되는 메모리 영역
4. **Stack 영역**
   - 함수 인자 값, 함수 내의 지역 변수, 함수의 반환 주소 등이 저장되는 영역으로 상위 메모리 주소에서 하위 메모리 주소로 데이터가 저장됨

#### 4.5.1.2. 스택 버퍼 오버플로우
- SetUID가 설정된 루트 권한의 프로그램을 공격 대상으로 함
- 스택에 정해진 버퍼보다 큰 공격 코드를 삽입하여 반환 주소를 변경함으로써 임의의 공격 코드를 루트 권한으로 실행하도록 하는 방법

#### 4.5.1.3. 버퍼 오버플로우 공격 대응책

##### 4.5.1.3.1. 컴파일 시간 방어
- 새 프로그램 내에서 공격을 저지하도록 프로그램을 강화하는 것을 목표로 함
1. 사용을 지양하는 함수
   - strcat(), strcpy(), gets(), scanf(), sscanf(), vscanf(), vsscanf(), sprintf(), vsprintf(), sethostbtname(), realpath()
2. 사용을 지향하는 함수
   - strncat(), strncpy(), fgets(), fscanf(), vfscanf(), snprintf(), vsnprintf()

##### 4.5.1.3.2. 실행 시간 방어
- 존재하는 프로그램에서 공격을 발견하고 중지시키는 것을 목표로 함

### 4.5.2. 포맷스트링 공격
- printf(), fprintf(), sprintf()와 같이 포맷스트링을 사용하는 함수를 사용하는 경우, 외부로부터 입력된 값을 검증하지 않고 입출력 함수의 포맷 문자열 그대로 사용하는 경우 발생할 수 있는 취약점
- 공격자는 포맷 스트링을 이용하여 취약한 프로세스를 공격하거나 메모리 내용을 읽거나 쓸 수 있으며, 버퍼 오버플로우를 통해 임의의 코드를 실행하거나 데이터 표현에 관한 문제를 일으킬 수가 있음

#### 4.5.2.1. 포맷스트링 취약점의 위협 요소
1. 프로그램의 파괴
   - 프로세스를 죽게 만듦
2. 프로세스 메모리 보기
   - 포맷 함수의 응답을 볼 수 있다면 그것으로부터 유용한 정보를 수집할 수 있으며, 공격자는 이 결과를 통해 포맷스트링이 무엇을 하며, 프로세스 배치가 어떻게 생겼는지에 대한 개략적인 내용을 획득하는데 사용할 수 있음
3. 임의의 메모리 덮어쓰기
   - 프로세스의 명령 통제권을 장악할 수 있음

### 4.5.3. 레이스 컨디션 공격
- 둘 이상의 프로세스나 스레드가 공유 자원에 동시에 접근할 때 순서에 따라 비정상적인 결과가 발생하는 조건/상황
- 실행되는 프로세스가 임시파일을 만드는 경우 악의적인 프로그램을 통해 그 프로세스의 실행중에 끼어들어 임시파일을 목적파일로 연결하여 악의적인 행위를 함

### 4.5.4. 루트킷
- 시스템에 설치되어 그 존재의 흔적을 최대 한도로 숨기면서 공격자가 언제든지 시스템에 관리자 권한으로 접근할 수 있도록 비밀 통로를 지속적으로 유지시켜주는 일련의 프로그램 집합

### 4.5.5. 논리폭탄
- 특정한 사건이 발생할 때 프로그램이나 일련의 코드를 실행함

## 4.6. 최신 보안 주제들

### 4.6.1. 블록체인
- 온라인 금융 거래 정보를 블록으로 연결하여 P2P 네트워크 분산 환경에서 중앙 관이 서버가 아닌 참여자들의 개인 디지털 장비에 분산·저장시켜 공동으로 관리하는 방식

#### 4.6.1.1. 블록체인의 기술적 특성
- 탈중앙화, 투명성, 불변성, 가용성

#### 4.6.1.2. 블록체인 기반 기술
- 분산 네트워크, 암호 기술, 이중 거래 방지, 합의 기법

#### 4.6.1.3. 블록체인 보안 위협 요소
- 프라이버시 문제, 키 도난 및 분실, 가용성 저하

### 4.6.2. APT
- 특정 대상을 겨냥해 다양한 공격 기법을 이용하여 장기간 지속적으로 공격하는 것
- 제로데이 공격과 같이 기존에 알려지지 않았던 취약점을 이용함

#### 4.6.2.1. APT의 주요 침투 기법
- 스피어 피싱 공격, 드라이브-바이-다운로드 공격, 워터링 홀 공격, USB 메모리 스틱을 이용한 기법

# 5. 네트워크 보안

## 5.1. TCP/IP

### 5.1.1. 네트워크 계층 프로토콜

#### 5.1.1.1. ARP
- IP 주소 → MAC 주소

##### 5.1.1.1.1. ARP 메시지 종류
1. **ARP 요청 메시지**
   - 특정 IP 주소에 대한 물리 주소를 요구
   - 호스트는 ARP 요청 메시지를 보낼 때 수식자측 물리 주소는 모르기 때문에 브로드캐스트로 전송
2. **ARP 응답 메시지**
   - 물리 주소 정보를 알림 (유니캐스트로 전송)
   - ARP 요청 메시지를 수신한 호스트 또는 라우터는 자신의 물리 주소를 요구하는 경우 ARP 응답 메시지 전송

##### 5.1.1.1.2. RRAP
- MAC 주소 → IP 주소

#### 5.1.1.2. ICMPv4
- 호스트가 라우터나 다른 호스트가 동작하는지 알고, 정보를 획득하기 위한 프로토콜

##### 5.1.1.2.1. ICMPv4 오류 보고 메시지
1. 목적지 도달 불가
   - 왜 데이터그램이 최종 목적지에 도착하지 못하였는지에 대한 오류 메시지의 종류를 정의하기 위해 0부터 15까지의 다른 코드를 사용함
2. 근원지 억제
   - 송신자에게 네트워크에 충돌이 발생해서 데이터그램이 폐기되었음을 알리는 메시지
3. 재지정 메시지
   - 발신자가 메시지를 전송하기 위해 잘못된 라우터를 사용할 때 사용되는 메시지
4. 시간 경과 메시지
   - 타임 아웃이 발생하여 IP 패킷이 폐기되었음을 알리는 메시지
5. 매개변수 문제
   - 데이터그램의 헤더에 문제가 있거나 어떤 옵션이 없거나 옵션의 의미를 알 수 없는 경우에 전송됨

## 5.2. 라우팅
- 패킷을 전송하기 위해 송신자측에서 목적지까지의 경로를 정하고, 정해진 경로를 따라 패킷을 전달하는 일련의 과정

### 5.2.1. 유니캐스트 라우팅 프로토콜
1. **RIP**
   - 거리 벡터 알고리즘을 사용하며, 라우팅 테이블에 자율 시스템 내의 다양한 네트워크에 도착하는 방법과 거리를 홉 수로 저장함
2. **IGRP**
   - 하나의 매트릭 값만을 사용하는 대신 다섯 가지의 네트워크 파라미터를 이용하여 거리 벡터를 계산함
   - 대규모 네트워크에 적합함
3. **OSPF**
   - 링크-상태 라우팅 프로토콜 기반
   - 네트워크에 변화가 생겼을 경우에만 전체 네트워크에 플러딩 과정을 수행함으로써 라우팅 정보를 신속하게 갱신하여 수렴 기관과 라우팅 트래픽의 양을 줄임

## 5.3. VLAN
- 물리적인 선이 아닌 소프트웨어에 의해 구성한 근거리 네트워크
- LAN을 논리적인 세그먼트로 분할함

### 5.3.1. VLAN의 특징
- 데이터링크 계층에서 브로드캐스트 도메인을 나누기 위해 사용하는 기술
- 각 스위치는 하나의 브로드캐스트 프레임에 대하여 동일 브로드캐스트 그룹이 아닌 곳에는 전달하지 않음
- 스위치는 VLAN 태그가 상이한 네트워크로의 접근을 근본적으로 차단하여 보안성을 유지함
- 관리자가 서로 다른 논리적 그룹에 대하여 서로 다른 보안 정책을 적용할 수 있게 함

### 5.3.2. VLAN의 종류
1. **Port 기반 VLAN**
   - 스위치 포트를 각 VLAN에 할당하는 것으로, 같은 VLAN에 속한 포트에 연결된 호스트들 간에만 통신이 가능함
2. **MAC 기반 VLAN**
   - 각 호스트의 MAC 주소를 VLAN에 등록하여 같은 VLAN에 속한 MAC 주소들 간에만 통신이 가능함
3. **네트워크 주소 기반 VLAN**
   - 네트워크 주소별로 VLAN을 구성하여 같은 네트워크에 속한 호스트들 간에만 통신이 가능함
4. **프로토콜 기반 VLAN**
   - 같은 통신 프로토콜을 가진 호스틀 간에만 통신이 가능함
5. **멀티캐스트 IP 기반 VLAN**
   - 일부 VLAN 제조사들은 맴버십 자격 특징으로 멀티캐스트 IP 주소를 사용함

## 5.4. 무선 통신 보안

### 5.4.1. 무선랜 인증 기술
1. **SSID**
2. **MAC**
3. **WEP**
4. **EAP**
   - 현재, 무선랜 표준인 IEEE 802.1x에서 사용자 인증 방법으로 사용됨

## 5.5. 네트워크 관리

### 5.5.1. SNMP
- 관리자와 에이젼트의 개념을 사용함
- 호스트인 관리자는  보통 라우터나 서버인 에이전트의 집단을 제어하고 감시함

### 5.5.2. 원격 접속 프로토콜
1. **TELNET**
   - ISO에서 제안된 가상 터미널 서비스에 대한 표준 TCP/IP 프로토콜
   - 자신의 터미널이 원격 시스템에 있는 터미널처럼 보이도록 원격 시스템관의 연결 설정을 가능하게 함
2. **Rlogin**
   - 인터넷 표준이 아니며, BSD 계열 시스템 간의 원격 접속을 위해서 설계됨
   - TELNET에 비해 단순하고 별도의 옵션 협상 기능은 제공하지 않음
3. **SSH**
   - 네트워크 상의 다른 컴퓨터에 로그인하거나 원격 시스템에서 명령을 실행하고 다른 시스템으로 파일을 복사할 수 있도록 해주는 응용 프로그램 또는 프로토콜
   - 기존의 TELNET과 Rlogin을 대체하기 위해 설계되었으며, 강력한 인증 방법 및 안전하지 못한 네트워크에서 안전하게 통신을 할 수 있는 기능을 제공함
   - 비교적 구현하기 쉽고 비용이 적게 들도록 설계됨

## 5.6. 네트워크 기반 프로그램 활용

### 5.6.1. ping
- 인터넷으로 접속하려는 원격 호스트가 정상적으로 운영되고 있는지를 확인 하는 진단 목적으로 사용함
- ICMP를 이용하는 유틸리티
- 네트워크 속도를 측정할 수 있음

### 5.6.2. traceroute
- 종단 노드 사이에 있는 여러 중계 노드 각 구간에 대한 네트워크 상태를 관리하기 위한 명령어로, 네트워크의 라우팅 문제점을 찾아내는 목적으로 많이 사용함
- 패킷의 TTL을 하나씩 증가시켜 보냄
- Unreachable Port라는 ICMP 메시지를 받으면 trace가 목적지에 도달했음을 알 수 있게 됨

### 5.6.3. netstat
- 유닉스 시스템의 TCP/IP 프로토콜 진단 시 다양한 용도로 사용함
- 네트워크 인터페이스 대한 성능 정보, 시스템의 라우팅 정보, 소켓 사용 정보 등 지정 옵션에 따라서 네트워크 정보를 제공함

### 5.6.4. tcpdump
- 네트워크 인터페이스를 거치는 패킷의 내용을 출력해주는 프로그램
- 스니핑 도구의 일종으로, 자신의 컴퓨터로 들어오는 모든 패킷의 내용을 도청할 수 있으며, 공격자의 추적 및 공격 유형 분석을 위한 패킷 분석 시에 활용할 수 있는 도구

## 5.7. 네트워크 기반 공격의 이해

### 5.7.1. DoS 공격
- 정당한 사용자가 정보 시스템의 데이터나 자원을 적절한 대기 시간 내에 사용하는 것을 방해하는 행위
- 주로 시스템에 과도한 부하를 일으켜 정보 시스템의 사용을 방해함
- 소프트웨어의 취약점을 이용한 공격과 flooding 유형의 공격으로 구분함


#### 5.7.1.1. TCP SYN Flooding Attack
- TCP 연결 설정 과정 중에 3-Way Handshaking 과정에서 Half-Open 연결 시도가 가능하다는 취약점을 이용한 공격
- 공격 대상 시스템은 외부로부터 접속 요청을 저 이상 받아들일 수가 없게 되어 정상적인 서비스를 제공할 수 없게 됨
- 공격자가 다수의 syn 신호를 공격 대상자에게 전송하면 공격 대상자는 syn/ack 신호를 공격자에게 전달하게 되는데 이때 공격자가 ack 신호를 반송하지 않으면 공격 대상자의 시스템은 일정 시간 동안 신호를 기다리게 됨

#### 5.7.1.2. SMURF Attack
- IP 위장과 ICMP의 특징을 이용한 공격

##### 5.7.1.2.1. SMURF Attack 방법 
1. 공격자는 IP를 공격 대상 서버의 IP 주소로 위장하여, ICMP를 브로드캐스트로 다수의 시스템에 전송함
2. 이때 ICMP 브로드캐스트를 수신한 다수의 시스템은 ICMP Echo 패킷을 공격자가 아닌, 공격 대상 서버로 전송함
3. 공격 대상 서버는 다수의 ICMP Echo를 수신하게 되어 시스템 성능에 문제를 일으키게 됨
4. 이때 다수의 시스템은 브로드캐스트에 대한 응답으로 다수의 ICMP Echo 패킷을 발생시키기 때문에 증폭 네트워크라고 불림

##### 5.7.1.2.2. SMURF Attack 보안 대책
- 중간 매개지로 쓰이는 것을 막기 위해 라우터에서 다른 네트워크로부터 자신의 네트워크로 들러오는 IP directed broadcast 패킷을 막도록 설정함
- 호스트 IP broadcast address로 전송된 ICMP 패킷에 대해 응답하지 않도록 시스템을 설정할 수 있음
- 동일한 ICMP Echo Reply 패킷이 다량으로 발생한다면 해당 패킷들을 침임차단시스템을 통해 모두 차단시킴

#### 5.7.1.3. Flooding Attack
- 공격 목표 시스템에 연결된 네트워크 링크에 과부하를 검

##### 5.7.1.3.1. ICMP Flood
- ICMP echo request를 사용하는 ping flood 공격

##### 5.7.1.3.2. UDP Flood
- UDP의 비연결성 및 비신뢰성 때문에 공격이 용이한 방법

#### 5.7.1.4. Land Attack
- 패킷을 전송할 때 출발지 IP 주소와 목적지 IP 주소 값을 똑같이 만들어서 공격대상에 보내는 것
- 동시 사용자 수를 증가시키며, CPU에도 부하를 주게 됨

#### 5.7.1.5. Ping of Death
- ping을 이용하여 ICMP 패킷을 정상 크기보다 아주 크게 만드는 것
- 크게 만들어진 패킷은 네트워크를 통해 라우팅되어 공격 네트워크에 도달하는 동안 아주 작은 조작으로 쪼개지고, 공격 대상은 조각화된 패킷을 모두 처리해야 하므로 정상적인 ping 처리보다 부하가 훨씬 많이 걸림

#### 5.7.1.6. Teardrop Attack
- 네트워크 상에서 IP가 정상적으로 패킷을 전송할 때 IP 단편화가 발생하게 되고, 수신자는 재조립을 통해 단편화된 데이터를 복구함
- 이때 재조립 시에 정확한 조립을 위해 오프셋이한 값을 더하는데, 이 오프셋 값을 단편화 간에 중복되도록 고의적으로 수정하거나 정상적인 오프셋 값보다 더 큰 값을 더해 그 범위를 넘어서는 오버플로우를 일으켜 시스템의 기능을 마비시켜버리는 공격 기법
- 공격 당한 시스템은 네트워크 연결이 끊어지거나 블루스크린을 표시하면서 중단됨

### 5.7.2. DDoS 공격
- 여러 대의 컴퓨터를 일제히 동작시켜 특정 사이트/시스템을 공격하여 엄청난 분량의 패킷을 동시에 범람시킴으로써 네트워크 성능 저하나 시스템 마비를 가져오게 하는 해킹 방법

#### 5.7.2.1. DDoS의 구성 요소
- **공격자**, **봇 마스터**
  - 공격을 주도하는 해커의 컴퓨터
  - C&C 서버에 공격 명령을 전달하는 해커의 컴퓨터
- **마스터**, **C&C 서버**
  - 공격자에게 직접 명령을 받은 시스템으로 여러 대의 에이전트를 관리함
- **핸들러 프로그램**
  - 마스터 시스템의 역할을 수행하는 프로그램
- **에이전트**
  - 공격 대상에 직접적인 공격을 가하는 시스템으로, 악성코드에 감염된 시스템
  - 슬레이브, 좀비라고도 함
- **데몬 프로그램**
  - 에이전트 시스템 역할을 수행하는 프로그램
- **표적**
  - 공격 대상이 되는 프로그램

#### 5.7.2.2. DDoS 공격의 대응 절차
1. 공격의 인지
2. DDoS 공격 유형 파악
3. 공격 유형에 따른 차단 정책 정의 및 대응
4. 공격 대응 후, 사후 조치

#### 5.7.2.3. DRDoS
- 별도의 에이전트 설치 없이 프로토콜 구조의 취약점을 이용해 정상적인 서비스를 운영하는 시스템을 에이전트로 활용하여 공격함
- 패킷이 전송되는 경로가 무수히 많음

### 포트 스캔 공격 종류
1. **Sweep**
2. **Open 스캔**
   - **TCP Half Open 스캔 (TCP SYN 스캔)**
     - 로그를 남기지 않아 추적지 불가능하도록 한 기법
     - 세션을 완전히 연결하지 않고, TCP Half Connection만으로 포트의 활성화 여부를 판단함
   - **UDP 스캔**
     - ICMP Port Unreachable 에러 메시지를 통해 포트의 활성화 여부를 확인함
     - 에러 메시지가 수신되면 해당 포트의 비활성화를 의미하며, 아무런 응답이 없다면 해당 포트의 활성화를 의미함
3. **스텔스 스캔**
   - TCP 헤더를 조작하여 특수한 패킷을 만든 후, 스캔 대상 시스템에 보내 그 응답으로 포트 활성화 여부를 알아내는 기법
   - 종류에는 TCP FIN 스캔, TCP ACK 스캔, TCP 단편화 스캔 등이 있음
   - TCP ACK 스캔은 포트의 오픈 여부를 판단하지 않음!

## 5.8. IDS/IPS

### 5.8.1. 침입탐지시스템 (IDS)
- 외부 침입에 대한 정보를 수집하고 분석하여 침입 활동을 탐지해 이에 대응하도록 보안 담당자에게 통보하는 기능을 수행하는 네트워크 보안 시스템

#### 5.8.1.1. IDS의 실행 단계
1. 데이터 수집
2. 데이터 가공 및 축약
3. 침입 분석 및 탐지
4. 보고 및 대응

#### 5.8.1.2. IDS의 탐지 방법에 의한 분류
1. **규칙 기반 침입 탐지 (오용 침입 탐지)**
   - 특징을 비교하여 탐지하는 방법
   - 행동 패턴이 기존의 침입 패턴과 일치하거나 유사한 경우에 침입이라 판단함
   - **전문가 시스템**, **상태 전이 모델**, **패턴 매칭**
2. **통계적 변형 탐지 (비정상 침입 탐지)**
   - 관찰된 사건들을 정상적인 행위에 대한 정의들과 비교하여 심각한 수준의 일탈 행위를 식별하는 과정
   - **통계적 분석 방법**, **예측 가능한 패턴 생성 방법**, **신경망 모델**

#### 5.8.1.3. IDS의 데이터 수집원에 의한 분류
1. **네트워크 기반 IDS**
   - 네트워크를 통해 전송되는 패킷 정보를 수집 분석하여 침입을 탐지하는 시스템
2. **호스트 기반 IDS**
   - 호스트 시스템으로부터 생성되고 수집된 감사 자료를 침입 탐지에 사용하는 시스템

#### 5.8.1.4. 스노트
- 실시간 트래픽 분석, 프로토콜 분석, 내용 검색/매칭, 침입 탐지 규칙에 의거하여 다양한 공격과 스캔을 탐지할 수 있음

### 5.8.2. 침입방지시스템 (IPS)
- 다양한 보안 기술을 이용하여 침입이 일어나기 전에 실시간으로 침입을 막으며, 유해 트래픽을 차단하기 위한 능동형 보안 솔루션

### 5.8.3. IDS, IPS, 방화벽 비교
|구분|**IDS**|**IPS**|**방화벽**|
|:-:|:-:|:-:|:-:|
|목적|침입 여부의 감지|침입 이전의 방지|접근 통제 및 인가|
|특징|로그, 시그니쳐 기반의 패턴 매칭|정책, 규칙 DB 기반의 비정상 행위 탐지|수동적 차단, 내부망 보호|
|패킷 차단|X|O|O|
|패킷 내용 분석|O|O|X|
|오용 탐지|O|O|X|
|오용 차단|X|O|X|
|이상 탐지|O|O|X|
|이상 차단|X|O|X|
|장점|실시간 탐지 <br> 사후 분석 대응 기술|실시간 즉각 대응 <br> 세션 기반 탐지 가능|엄격한 접근 통제 <br> 인가된 트래픽 허용|
|단점|변형된 패턴에 대해서는 탐지 어려움|오탐 현상 발생 가능 <br> 장비 고가|내부자 공격 취약 <br> 네트워크 병목 현상|


## 5.9. 침입차단시스템 (방화벽)
- 사설 네트워크를 외부로부터 보호하기 위해 공중 네트워크와 사설 네트워크 사이에 설치된 일종의 벽

### 5.9.1. 침입차단시스템의 유형 분류

#### 5.9.1.1. 패킷 필터링 시스템
1. IP 주소를 이용한 패킷 필터링
2. 서비스를 이용한 패킷 필터링

##### 5.9.1.1.1. NAT
- 사설 주소와 범용 주소의 매칭을 제공하고 동시에 가상 사설 네트워크를 지원하는 기술

#### 5.9.1.2. 상태 기반 검사 방화벽
- TCP 연결에 관한 정보를 기록함
- TCP 순서 번호를 추적해서 순서 번호를 이용한 공격을 막음
- 네트워크 계층과 전송 계층에서 동작함

## 5.10. VPN

### 5.10.1. VPN 구현 기술
1. **터널링**
   - 상용망 상에서 전용망과 같은 보안 효과를 주기 위한 기법
   - VPN 내의 두 호스트 간에 가상 경로를 설정해주어 사용자에게 투명한 통신 서비스를 제공함
2. **암호화 및 인증**
3. **접근 제어**

## 5.11. NAC
- 네트워크에 접근하는 접속 단말의 보안성을 검증하여 보안성을 강제화하고 접속을 통제할 수 있는 보안 인프라
- 사용 단말이 내부 네트워크에 접근하기 전에 보안 정책을 준수했는지 여부를 검사해 네트워크 접속을 통제하는 보안 솔루션

### 5.11.1. NAC의 쥬요 기능
1. 접근 제어/인증
2. PC 및 네트워크 장치 통제
3. 해킹, 웜, 유해 트래픽 탐지 및 차단

# 6. 어플리케이션 보안

## 6.1. FTP 보안

### 6.1.1. FTP
- 하나의 호스트에서 다른 호스트로 파일을 복사하기 위해 TCP/IP에 의해 제공되는 표준 기능

#### 6.1.1.1. FTP 연결
1. **FTP 능동 모드**
   - FTP 클라이언트의 기본 값으로 설정됨
   - 클라이언트에서 서버 측 21번 포트로 접속하여 제어 채널을 생성하고, <u>데이터는 서버에서 클라이언트로 접속하여 데이터를 보내는 방식</u>
2. **FTP 수동 모드**
   - 클라이언트에서 서버 측 21번 포트로 접속 하여 제어 패널을 생성하고, <u>데이터 채널도 클라이언트에서 서버로 접속하여 데이터를 보내는 방식</u>

### 6.1.2. TFTP
- FTP의 기능을 전부 지원할 필요가 없거나 모두 지원하는 것이 비현실적인 경우를 위해 개발됨
- UDP(69번 포트)를 사용함
- 주로 소프트웨어 패키지를 읽지 전용 메모리나 디스크 없는 워크스테이션에 설치할 때 쓰임

### 6.1.3. FTP 보안 위협
- FTP의 비밀번호는 평문으로 되어 있음

1. **Bounce Attack**
   - 제어 채널과 데이터 채널을 다르게 사용하고 데이터 채널을 생성할 때 목적지를 확인하지 않는 FTP 설계의 구조적 취약점을 이용하는 공격
2. **Anonymous FTP 취약점**
   - 보안 절차를 거치지 않은 익명의 사용자에게 FTP 서버로의 접근을 허용함
   - 익명의 사용자가 서버에 쓰기 권한이 있을 때 악성 코드 생성이 가능함

## 6.2. 이메일 보안

### 6.2.1. 이메일 관련 프로토콜
1. **SMTP**
   - 인터넷에서 MTA 클라이언트와 서버를 규정하는 공식적인 프로토콜
   - 송신자와 송신자 메일 서버 사이 그리고 두 메일 서버들 사이에서 총 두번 사용됨
2. **POP3**
   - 클라이언트 POP3 소프트웨어는 수신자 컴퓨터에 설치되고, 서버 POP3 소프트웨어는 메일 서버에 설치됨
   - 전자우편 액세스는 사용자가 메일 서버에 있는 편지함에서 전자우편을 내려 받을 필요가 있을 때 클라이언트에서 시작함
   - 그리고 편지함에 액세스하기 위해 사용자의 이름과 비밀번호를 송신함
3. **IMAP4**
   - 데이터를 신뢰성 있게, 제대로 된 순서로 보내고 받을 수 있게 하기 위해 TCP 143번 포트에서 IMAP4 클라이언트의 연결 요청을 대기함

## 6.3. 웹 보안

### 6.3.1. SSL/TLS

#### 6.3.1.1. SSL/TLS 보안 서비스
1. 기밀성 서비스
2. 클라이언트와 서버 상호 인증
3. 메시지 무결성 서비스

#### 6.3.1.2. Handshake 프로토콜
- 이건 그림으로 보기...

### 6.3.2. OWASP TOP 10 (2020)
1. **인젝션**
2. **취약한 인증**
3. **민감 정보 노출**
4. **XXE**
5. **취약한 접근 통제**
6. **보안 설정 오류**
7. **XSS**
8. **불안전한 역직렬화**
9. **잘 알려진 취약점이 있는 컴포넌트 사용**
10. **불충분한 로깅과 모니터링**

## 6.4. 전자상거래 보안

### 6.4.1. 전자 지불 시스템의 정보보호 요구 사항
1. 위조 불가능
2. 부인 방지
3. 무결성/인증
4. 프라이버시/익명성

### 6.4.2. SET (Secure Electronic Transaction)
- 인터넷 상에서 신용카드를 이용한 상품 구매 시 안전한 대금 결제 과정 처리를 위해 RSA 암호화 인증 기술을 이용함
- 전자봉투와 이중서명이라는 기술을 사용함

#### 6.4.2.1. 이중서명 프로토콜
- 카드 사용자가 구매 정보와 지불 정보를 각각 해시한 후, 두 해시 값을 합한 뒤 다시 해시하고, 최종 해시 값을 카드 사용자의 개인키로 서명함
- 상점이 카드 사용자의 계좌번호와 같은 지불 정보를 모르게 하는 동시에 대금을 지붕하는 은행은 카드 사용자가 산 물건을 모르지만 상점이 요구한 결제 대금이 정확한지 확인할 수 있게 함

#### 6.4.2.2. SET의 장단점
1. 장점
   - 전자 거래의 사지를 방지
   - 기존의 신용카드 기반을 그대로 활용
   - SSL의 단점을 해결
2. 단점
   - 암호 프로토콜이 복잡함
   - RSA 동작은 프로토콜의 속도를 크게 저하시킴
   - 카드 소지자에게 접자지갑 소프트웨어를 요구
   - 상점에 소프트웨어를 요구
   - 지불 게이트웨이에 거래를 전자적으로 처리하기 위한 별도의 하드웨어와 소프트웨어를 요구

# 7. 정보보안 관리 및 법규

## 7.1. 정보보호 거버넌스와 관리 체계 수립

### 7.1.1. 정보보호 정책
- 조직의 내·외부 환경과 엄무 성격에 맞는 효과적인 정보보호를 위하여 기본적으로 무엇이 수행되어야 하는가를 기술한 지침과 규약으로써, 정보 자산을 어떻게 관리하고 보호할 것인가에 대하여 문서로 기술해 놓은 것
- 보안 정책은 조직 안에서 보안이 어떤 종류의 역할을 수행하는지 규정하기 위해 최고경영진에 의해 마련된 선언임
- 조직과 조직체의 수행 임무와 관련이 있으며, 이는 임무 수행에 대한 전반적인 위협에 기반을 둠
  - 이러한 보안 요구 사항은 조직의 정보 및 기타 정보 시스템에 대하여 조직이 요구하는 총괄적인 자산의 보호를 의미함

### 7.1.2. 정보보호조직 구성원의 역할과 책임
1. **최고 경영자**
   - 정보보호를 위한 총괄 책임
2. **정보 시스템 정보보호 관리자**
   - 조직의 정보보호 정책, 표준, 대책, 실무 절차를 설계, 구현, 관리, 조사할 책임
3. **데이터 관리자**
   - 정보 시스템에 저장된 데이터의 정확성과 무결성을 유지하고 데이터의 중요성 및 분류를 결정할 책임
4. **프로세스 관리자**
   - 해당 정보 시스템에 대한 조직의 정보보호 정책에 따라 적절한 보안을 보증할 책임
5. **기술 지원 인력**
   - 보안 대책의 구현에 대하여 조언할 책임
6. **사용자**
   - 조직의 정보보호 정책에 따라 수립된 절차를 준수할 책임
7. **정보 시스템 감사자**
   - 보안 목적이 적절하며 정보보호 정책, 표준, 대책, 실무 및 절차가 조직의 보안 목적에 따라 적절하게 이루어지고 있음을 독립적인 입장에서 관리자에게 보증할 책임

## 7.2. 정보보호 위험 관리

### 7.2.1. 위험 관리
- 조직의 자산에 대한 위럼을 감수할 수 있는 수준으로 유지하기 위하여 자산에 대한 위험을 분석하고 이러한 위험으로부터 자신을 보호하기 위한 비용 대비 효과적인 보호 대책을 마련하는 일련의 과정

#### 7.2.1.1. 위험 관리의 과정
1. 전략과 계획 수립
2. 위험을 구성하는 요소들을 분석
3. 분석에 기초하여 위험을 평가
4. 필요한 정보보호 대책을 선정
5. 이들을 구현할 계획을 수립

#### 7.2.1.2. 위험의 구성 요소
1. **위험**
   - 원하지 않는 사건이 발생하여 손실 또는 부정적인 영향을 미칠 가능성
   - 위협의 발생으로 인하여 자산에 실질적으로 가해진 결과
2. **자산**
   - 조직이 사용하고 있는 네트워크 및 시스템을 구성하고 있는 모든 요소
3. **위협**
   - 자산에 손실을 초래할 수 있는 사건의 잠재적 원인이나 행위자
4. **취약점**
   - 위협의 이용 대상이 되는 것
5. **정보보호 대책**
   - 위협에 대응하여 자산을 보호하기 위한 관리적, 기술적 대책

### 7.2.2. 위험 분석
- 보호되어야 할 대상 정보 시스템과 조직의 위험을 측정하고, 이 측정된 위험이 허용 가능한 수준인지 아닌지 판단할 수 있는 근거를 제공하는 것

#### 7.2.2.1. 상세 위험 분석
1. **자산 분석**
   - 조직의 자산 규모를 파악하고 자신의 가치 및 중요도를 산출하며 자산과 업무 처리와의 관계도를 알아낼 수 있음
2. **위협 분석**
   - 자산에 피해를 가할 수 있는 위협을 파악하고 발생 가능성 등을 분석하는 과정
3. **취약점 분석**
   - 자산 분석을 총하여 도출된 자산의 속성과 중요도를 바탕으로 자산이 가지고 있는 취약점을 식별하고 취약점이 전체적인 위험에 미칠 수 있는 영향을 분석하는 것
4. **대응책 분석**
   - 네트워크 및 시스템을 새로 구축하는 경우와 운영 중인 자산에 필요한 대응책을 조사하여 이들 대응책들의 기본 기능 수행 여부를 파악하는 것
5. **위험 평가**
   - 자산 분석, 취약점 분석, 위협 분석, 대응책 분석 등을 통하여 얻은 데이터와 분석 결과를 바탕으ㅗ 위험을 측정하고 평가한 후 대응책을 제시해주는 위험 분석의 최종 단계
6. **잔류 위험 평가**
   - 위험 분석 결과에 대한 종합적인 평가를 하기 전에 추천한 대응책을 적용할 때 보안 정책에 명시되어 있는 허용 위험 수준을 만족하는지 검증하는 것

#### 7.2.2.2. 위험 처리 전략
1. **위험 수용**
   - 현재의 위험을 받아들이고 잠재적 손실 비용을 감수하는 것
2. **위험 감소**
   - **위험 결과를 낮추는 대책**은 위험이 실제로 발생했을 때 조직에 해가 되는 결과를 낮추는 것
   - **위험 발생 가능성을 낮추는 대책**은 자산의 취약점이 실제로 이용될 수 있는 가능성을 낮추는 통제 수단을 구현하는 것
3. **위험 전가**
   - 위험에 대한 책임을 제3자와 공유하는 것
4. **위험 회피**
   - 위험이 존재하는 프로세스나 사업을 수행하지 않고 포기하는 것

#### 7.2.2.3. 정량적 위험 분석과 정성적 위험 분석

##### 7.2.2.3.1. 정량적 위험 분석
- 위험 분석 프로세스의 모든 요소에 대하여 금전적 가치와 숫자 값을 부여하는 데 사용됨
1. **과거 자료 분석법**
   - 미래 사건의 발생 가능성을 예측하는 방법으로 과거의 자료를 통해 가능성을 예측함
2. **수학 공식 접근법**
   - 위협의 발생 빈도를 계산하는 식을 이용하여 위험을 계량하는 방법으로 과거 자료의 획득이 어려울 경우 위협 발생 빈도를 추정하여 분석하는데 유용함
3. **확률 분포법**
   - 미지의 사건을 추정하는데 사용하는 방법으로 확률적 편차를 이용하여 최저, 보통, 최고의 위험 분석을 예측함
4. **점수법**
   -  위험 발생 요인에 가중치를 두어 위험을 추정하는 방법

##### 7.2.3.2. 정성적 위험 분석
- 다양한 위험 가능성의 시나리오에 정성적 방법을 투영시켜 위협의 심각성과 자산 중요성의 순위를 결정함
1. **델파이법**
   - 시스템에 관한 전문가 집단이 위험을 분석 및 평가하여 정보 시스템이 직면한 다양한 위협과 취약점을 토론을 통해 분석하는 방법
2. **시나리오법**
   - 어떤 사건도 기대대로 발생하지 않는다는 사실에 근거하여 일정 조건 하의 위협에 대해 발생 가능한 결과를 추정하는 방법
3. **순위 결정법**
   - 비교 우위 순위 결정표에 위험 항목들의 서술적 순위를 결정하는 방법
4. **퍼지 행렬법**
   - 자산, 위험, 보안 체계 등 위험 분석 요소들을 정성적인 언어로 표현된 값을 사용하여 기대 손실을 평가하는 방법